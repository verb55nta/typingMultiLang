{"version":3,"sources":["utils/util.js","index.js","containers/container_app.js","components/component_app.js","actions/actions_app.js","reducers/reducer.js"],"names":["s","lang","res","i","length","c","l","r","x","Math","random","floor","store","createStore","reducer","ReactDOM","render","Provider","document","getElementById","connect","state","dispatch","next","idNew","getIdByRandom","lLim","uLim","Actions","typingProcess","key","cs","convertForTypingNoSpecial","data","id","tgt","console","log","typeCount","App","props","window","onkeydown","e","this","en","ja","fr","substr","max","initialDisplay","TouchableHighlight","onPress","style","styles","button","underlayColor","Text","buttonText","View","container","numText","srcText","answer","tgtCompleteText","tgtText","inputInitText","inputText","convText","React","Component","StyleSheet","create","flex","flexDirection","backgroundColor","alignItems","justifyContent","logo","width","height","title","fontWeight","fontSize","borderRadius","padding","marginVertical","marginHorizontal","marginTop","color","type","typeCountIncrement","completeWord","initialState","action","cntNew","answerNew","wordsData","targetString"],"mappings":"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","file":"static/js/main.f13c633b.chunk.js","sourcesContent":["export function convertForTyping(s,lang='fr') {\n    \n    let res = '';\n\n    if (lang === 'fr') {\n        for (let i = 0; i < s.length; i++){\n            let c = s[i];\n            switch (c) {\n                case 'à':\n                    res += '`a';\n                    break;\n                case 'è':\n                    res += '`e';\n                    break;\n                case 'ù':\n                    res += '`u';\n                    break;\n                \n                case 'â':\n                    res += '^a';\n                    break;\n                case 'ê':\n                    res += '^e';\n                    break;\n                case 'î':\n                    res += '^i';\n                    break;\n                case 'ô':\n                    res += '^o';\n                    break;\n                case 'û':\n                    res += '^u';\n                    break;\n                \n                \n                case 'é':\n                    res += '\\'e';\n                    break;\n                case 'É':\n                    res += '\\'E';\n                    break;\n\n                case 'ë':\n                    res += ':e';\n                    break;\n                case 'ï':\n                    res += ':i';\n                    break;\n            \n                \n                case 'ç':\n                    res += 'cz';\n                    break;\n                case 'œ':\n                    res += 'oe';\n                    break;\n                \n                default:\n                    res += c;\n                    break;\n            }\n\n    \n        }\n    \n    }\n\n    else {\n        res = s;\n    }\n\n\n\n\n    return res;\n\n}\n\nexport function convertForTypingNoSpecial(s,lang='fr') {\n    \n    let res = '';\n\n    if (lang === 'fr') {\n        for (let i = 0; i < s.length; i++){\n            let c = s[i];\n            switch (c) {\n                case 'à':\n                    res += 'a';\n                    break;\n                case 'è':\n                    res += 'e';\n                    break;\n                case 'ù':\n                    res += 'u';\n                    break;\n                \n                case 'â':\n                    res += 'a';\n                    break;\n                case 'ê':\n                    res += 'e';\n                    break;\n                case 'î':\n                    res += 'i';\n                    break;\n                case 'ô':\n                    res += 'o';\n                    break;\n                case 'û':\n                    res += 'u';\n                    break;\n                \n                \n                case 'é':\n                    res += 'e';\n                    break;\n                case 'É':\n                    res += 'E';\n                    break;\n\n                case 'ë':\n                    res += 'e';\n                    break;\n                case 'ï':\n                    res += 'i';\n                    break;\n            \n                \n                case 'ç':\n                    res += 'c';\n                    break;\n                case 'œ':\n                    res += 'oe';\n                    break;\n                \n                default:\n                    res += c;\n                    break;\n            }\n\n    \n        }\n    \n    }\n\n    else {\n        res = s;\n    }\n\n\n\n\n    return res;\n\n}\n\nexport function getIdByRandom(l,r){\n\n    let x = Math.random();\n    let res =  l + (Math.floor(x * (r-l+1))) ;\n\n    return res\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import {render} from 'react-dom'\nimport './index.css';\n//import App from './App';\n//import * as serviceWorker from './serviceWorker';\n\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'\n\nimport ContainerApp from './containers/container_app'\nimport reducer from './reducers/reducer'\n\n//ReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n\nconst store = createStore(reducer)\n\nReactDOM.render(\n    <Provider store={store}>\n        <ContainerApp />\n    </Provider>,\n    document.getElementById('root')\n)","import { connect } from 'react-redux'\n\nimport App from '../components/component_app'\nimport Actions from '../actions/actions_app'\n\nimport {getIdByRandom} from '../utils/util'\nimport {convertForTypingNoSpecial} from '../utils/util'\n\nfunction mapStateToProps(state) {\n    return state\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        next: (state) => {\n            const idNew = getIdByRandom(state.lLim, state.uLim);\n            dispatch(Actions['next'](idNew));\n        },\n        typingProcess: (state,key) => {\n            if (key.key === 'Escape' || key.key === 'ArrowRight') {\n                const idNew = getIdByRandom(state.lLim, state.uLim);\n                dispatch(Actions['next'](idNew));\n            }\n            else {\n                const cs = convertForTypingNoSpecial(state.data[state.id][state.tgt]); //副作用？\n                console.log(cs[state.typeCount]);\n                if (key.key === cs[state.typeCount]) {\n                    dispatch(Actions['typeCountIncrement']());\n                    if (state.typeCount >= cs.length - 1) {\n                        dispatch(Actions['completeWord']());\n                    }\n                }\n                \n            }\n        },\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","import React from 'react'\nimport {\n    StyleSheet,\n    Text,\n    View,\n    TouchableHighlight,\n} from 'react-native';\nimport {convertForTypingNoSpecial} from '../utils/util'\n\nexport default class App extends React.Component {\n\n    constructor(props) {\n        super(props);\n        window.onkeydown = (e) => {\n            const state=this.props\n            props.typingProcess(state,e);\n        }\n    }\n\n    render() { \n\n        let props = this.props;\n        let id = props.id;\n        \n        let s = convertForTypingNoSpecial( props.data[id][props.tgt] );\n\n        let en = props.data[id]['en'];\n        let ja = props.data[id]['ja'];\n        let fr = props.data[id]['fr'];\n        let tgt = s.substr(0,Math.max(props.typeCount,props.initialDisplay));\n        //let tgt = s.substr(0,props.typeCount);\n        //let de = props.data[id]['de'];\n        let de = \"\";\n\n        let next = <TouchableHighlight\n            onPress={() => props.next(props)}\n            style={styles.button}\n            underlayColor={'#0A84D0'}>\n            <Text style={styles.buttonText}>Next</Text>\n        </TouchableHighlight>\n\n        return (\n            <View style={styles.container}>\n                {next}\n                <Text style={styles.numText}>{id}</Text>\n                <Text style={styles.srcText}>{en} {ja} </Text>\n                <Text style={props.answer === 1 ? styles.tgtCompleteText : styles.tgtText}>{fr} </Text>\n                <Text style={props.typeCount===0 ? styles.inputInitText : styles.inputText}>{tgt} </Text>\n                \n                <Text style={styles.convText}>{s}</Text>\n\n            </View>\n        );  \n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        flexDirection: 'column',\n        backgroundColor: '#fff',\n        alignItems: 'center',\n        justifyContent: 'center',\n        //margin:'auto',\n    },\n    logo: {\n        width: 300,\n        height: 300,\n    },\n    title: {\n        fontWeight: 'bold',\n        fontSize: 16,\n    },\n    button: {\n        borderRadius: 3,\n        padding: 20,\n        marginVertical: 10,\n        marginHorizontal: 10,\n        marginTop: 10,\n        backgroundColor: '#1B95E0',\n    },\n    buttonText: {\n        color: '#fff',\n        fontWeight: 'bold',\n        fontSize: 16,\n    },\n    numText: {\n        fontSize: 20,\n       color:'#000' \n    }, \n    srcText: {\n        fontSize: 32,\n        color: '#000'\n    },\n    tgtText: {\n        fontSize: 48,\n        color: '#FFF'\n    },\n    inputInitText: {\n        fontSize: 24,\n        color: '#888'\n    },\n    inputText: {\n        fontSize: 24,\n        color: '#00F'\n    },\n    tgtCompleteText:{\n        fontSize: 48,\n        color: '#000'\n    },\n    convText: {\n        fontSize: 8,\n        color: '#888'\n    }\n});\n\n","export default {\n    next: (idNew) => {\n        return { type: 'next', idNew: idNew };\n    },\n    typeCountIncrement: () => {\n        return { type: 'typeCountIncrement' };\n    },\n    completeWord: () => {\n        return { type: 'completeWord' };\n    }\n}","import wordsData from './wordsData.json';\n\n\n\n\nconst initialState = {\n    id: 0,\n    tgt: 'fr',\n    data: wordsData,\n    typeCount: 0,\n    lLim: 0,\n    uLim: 11999,\n    answer: 0,\n    initialDisplay: 1,\n    targetString: wordsData[0]['en'],\n}\n\nexport default function reducer(state=initialState, action) {\n    \n    switch (action.type) {\n        case 'next':\n\n            const idNew = action.idNew;\n\n            return Object.assign({}, state, {\n                id: idNew,\n                typeCount: 0,\n                answer:0,\n                \n            });\n        case 'typeCountIncrement':\n            const cntNew = state.typeCount + 1;\n            return Object.assign({}, state, {\n                typeCount: cntNew,\n            });\n        case 'completeWord':\n            const answerNew = 1;\n            return Object.assign({}, state, {\n                answer:answerNew,\n            });\n        default:\n            return state;\n    }\n\n}"],"sourceRoot":""}